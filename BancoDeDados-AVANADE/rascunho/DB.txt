-- TIPO USUARIO
CREATE TABLE tipoUsuario(
	idTipoUsuario INT PRIMARY KEY IDENTITY,
	tipoUsuario VARCHAR(20) UNIQUE NOT NULL
);
GO


INSERT INTO tipoUsuario (tipoUsuario)
VALUES	
		('Administrador'),
		('Cliente');
GO;


-- USUARIO
CREATE TABLE usuarios (
	idUsuario INT PRIMARY KEY IDENTITY,
	idTipoUsuario INT FOREIGN KEY REFERENCES tipoUsuario(idTipoUsuario),
	nomeUsuario VARCHAR(50) NOT NULL,
	email VARCHAR(70) UNIQUE NOT NULL,
	senha VARCHAR(20) NOT NULL,
	dataNascimento DATE NOT NULL,
	cpf CHAR(11) UNIQUE NOT NULL,
	pontos INT,
	saldo SMALLMONEY
);
GO

INSERT INTO usuarios(idTipoUsuario,nomeUsuario,email,senha,dataNascimento,cpf)
VALUES	
(1,'Yuri Mitsugui Chiba','yuri@gmail.com','yuri123','24-12-2004',00000000001)
(2,'Gustavo Henrique Ferreira Alves','gustavo@gmail.com','gustavo123','16-07-2004',00000000002)
(2,'Leonardo Souza de Castro','leonardo@gmail.com','leonardo123','03-06-2005',00000000003)
(2,'Luiz Felipe Vera Cruz','luiz@gmail.com','luiz123','03-07-2002',00000000004)
(2,'Colin Lucas Batista Beluco','colin@gmail.com','colin223','23-09-2004',00000000005)

GO




-- VAGAS
CREATE TABLE vagas(
	idVaga INT PRIMARY KEY IDENTITY,
	idBicicletario INT FOREIGN KEY REFERENCES bicicletarios(idBicicletario),
	statusVaga BIT DEFAULT 0
);
GO

INSERT INTO vagas(idBicicletario,statusVaga)
VALUES (1,0),(1,1)
GO




-- RESERVAS
CREATE TABLE reservas(
	idReserva INT PRIMARY KEY IDENTITY,
	idUsuario INT FOREIGN KEY REFERENCES usuarios(idUsuario),
	idVaga INT FOREIGN KEY REFERENCES vagas(idVaga),
	abreTrava DATETIME,
	fechaTrava DATETIME,
	preco SMALLMONEY,
	statusPagamento BIT DEFAULT 0
);
GO


-- BICICLETARIOS 
CREATE TABLE bicicletarios(
	idBicicletario INT PRIMARY KEY IDENTITY,
	nome VARCHAR(30) NOT NULL,
	rua VARCHAR(50) NOT NULL,
	numero INT,
	bairro VARCHAR(20) NOT NULL,
	cidade VARCHAR(40) NOT NULL,
	cep CHAR(11) NOT NULL,
	horarioAberto DATETIME,
	horarioFechado DATETIME,
);
GO

INSERT INTO bicicletarios(nome,rua,numero,bairro,cidade,cep,horarioAberto,horarioFechado)
VALUES
	('BICICLETARIO SENAI INFORMATICA','Barão de Limeira','Campo Limpo','São Paulo','01202-001','06:00','00:00')
	('Bicicletário Sesi Vila Leopoldina	Weber',400,'bairro dois','São Paulo','22222-222','24-03-2022-06-00-30','24-03-2022-22-00-30')
GO

